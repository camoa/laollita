uuid: 1573d54a-6508-488b-a615-2dd6d5b2ccea
langcode: en
status: true
dependencies: {  }
id: recipe_import
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: recetas
label: 'Import Recipes from JSON'
source:
  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: json
  urls:
    - 'public://import/recipes.json'
  item_selector: /recipes
  fields:
    -
      name: id
      label: 'Recipe ID'
      selector: id
    -
      name: langcode
      label: Language
      selector: langcode
    -
      name: title
      label: Title
      selector: title
    -
      name: description
      label: Description
      selector: description
    -
      name: prepTime
      label: 'Prep Time'
      selector: prepTime
    -
      name: cookTime
      label: 'Cook Time'
      selector: cookTime
    -
      name: servings
      label: Servings
      selector: servings
    -
      name: difficulty
      label: Difficulty
      selector: difficulty
    -
      name: ingredients
      label: Ingredients
      selector: ingredients
    -
      name: instructions
      label: Instructions
      selector: instructions
    -
      name: category
      label: Category
      selector: category
    -
      name: tags
      label: Tags
      selector: tags
    -
      name: source
      label: Source
      selector: source
    -
      name: origin_country
      label: Country
      selector: origin_country
    -
      name: origin_region
      label: Region
      selector: origin_region
  ids:
    id:
      type: string
process:
  langcode: langcode
  title: title
  field_summary: description
  field_preparation_time: prepTime
  field_cooking_time: cookTime
  field_number_of_servings: servings
  field_difficulty: difficulty
  field_recipe_instruction/value: instructions
  field_recipe_instruction/format:
    plugin: default_value
    default_value: basic_html
  field_source: source
  field_recipe_category:
    plugin: entity_generate
    entity_type: taxonomy_term
    bundle_key: vid
    bundle: recipe_category
    value_key: name
    source: category
  field_tags:
    -
      plugin: skip_on_empty
      source: tags
      method: process
    -
      plugin: entity_generate
      entity_type: taxonomy_term
      bundle_key: vid
      bundle: tags
      value_key: name
  field_origin_country:
    plugin: entity_generate
    entity_type: taxonomy_term
    bundle_key: vid
    bundle: origin_country
    value_key: name
    source: origin_country
  field_origin_region:
    plugin: entity_generate
    entity_type: taxonomy_term
    bundle_key: vid
    bundle: origin_region
    value_key: name
    source: origin_region
  field_recipe_ingredients:
    plugin: sub_process
    source: ingredients
    process:
      amount: amount
      unit:
        plugin: entity_generate
        entity_type: taxonomy_term
        bundle_key: vid
        bundle: units
        value_key: name
        source: unit
      ingredient: ingredient
  status:
    plugin: default_value
    default_value: 1
destination:
  plugin: 'entity:node'
  default_bundle: recipe
idMap: {  }
migration_dependencies: null
include: null
